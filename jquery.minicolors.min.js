/*
 * jQuery MiniColors: A tiny color picker built on jQuery
 *
 * Copyright: Cory LaViska for A Beautiful Site, LLC
 *
 * Contributions and bug reports: https://github.com/claviska/jquery-minicolors
 *
 * @license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(i){function t(t,s){var n=i('<div class="minicolors" />'),o=i.minicolors.defaults;t.data("minicolors-initialized")||(s=i.extend(!0,{},o,s),n.addClass("minicolors-theme-"+s.theme).toggleClass("minicolors-with-opacity",s.opacity).toggleClass("minicolors-no-data-uris",s.dataUris!==!0),void 0!==s.position&&i.each(s.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",s).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+s.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),s.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(i){i.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),s.inline&&t.parent().addClass("minicolors-inline"),a(t,!1),t.data("minicolors-initialized",!0))}function s(i){var t=i.parent();i.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(i).remove()}function n(i){var t=i.parent(),s=t.find(".minicolors-panel"),n=i.data("minicolors-settings");!i.data("minicolors-initialized")||i.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(o(),t.addClass("minicolors-focus"),s.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(i.get(0))}))}function o(){i(".minicolors-focus").each(function(){var t=i(this),s=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),o=s.data("minicolors-settings");n.fadeOut(o.hideSpeed,function(){o.hide&&o.hide.call(s.get(0)),t.removeClass("minicolors-focus")})})}function a(i,t){var s,n,o,a,r,c,g,u=i.parent(),f=i.data("minicolors-settings"),b=u.find(".minicolors-swatch"),v=u.find(".minicolors-grid"),y=u.find(".minicolors-slider"),x=u.find(".minicolors-opacity-slider"),C=v.find("[class$=-picker]"),w=y.find("[class$=-picker]"),M=x.find("[class$=-picker]");switch(s=l(h(i.val(),!0),f.letterCase),s||(s=l(h(f.defaultValue,!0),f.letterCase)),n=m(s),t||i.val(s),f.opacity&&(o=""===i.attr("data-opacity")?1:d(parseFloat(i.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),i.attr("data-opacity",o),b.find("SPAN").css("opacity",o),r=d(x.height()-x.height()*o,0,x.height()),M.css("top",r+"px")),b.find("SPAN").css("backgroundColor",s),f.control){case"wheel":c=d(Math.ceil(.75*n.s),0,v.height()/2),g=n.h*Math.PI/180,a=d(75-Math.cos(g)*c,0,v.width()),r=d(75-Math.sin(g)*c,0,v.height()),C.css({top:r+"px",left:a+"px"}),r=150-n.b/(100/v.height()),""===s&&(r=0),w.css("top",r+"px"),y.css("backgroundColor",p({h:n.h,s:n.s,b:100}));break;case"saturation":a=d(5*n.h/12,0,150),r=d(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),C.css({top:r+"px",left:a+"px"}),r=d(y.height()-n.s*(y.height()/100),0,y.height()),w.css("top",r+"px"),y.css("backgroundColor",p({h:n.h,s:100,b:n.b})),u.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":a=d(5*n.h/12,0,150),r=d(v.height()-Math.ceil(n.s/(100/v.height())),0,v.height()),C.css({top:r+"px",left:a+"px"}),r=d(y.height()-n.b*(y.height()/100),0,y.height()),w.css("top",r+"px"),y.css("backgroundColor",p({h:n.h,s:n.s,b:100})),u.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:a=d(Math.ceil(n.s/(100/v.width())),0,v.width()),r=d(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),C.css({top:r+"px",left:a+"px"}),r=d(y.height()-n.h/(360/y.height()),0,y.height()),w.css("top",r+"px"),v.css("backgroundColor",p({h:n.h,s:100,b:100}))}i.data("minicolors-initialized")&&e(i,s,o)}function e(i,t,s){var n=i.data("minicolors-settings"),o=i.data("minicolors-lastChange");o&&o.hex===t&&o.opacity===s||(i.data("minicolors-lastChange",{hex:t,opacity:s}),n.change&&(n.changeDelay?(clearTimeout(i.data("minicolors-changeTimeout")),i.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(i.get(0),t,s)},n.changeDelay))):n.change.call(i.get(0),t,s)),i.trigger("change").trigger("input"))}function r(t){var s=h(i(t).val(),!0),n=b(s),o=i(t).attr("data-opacity");return n?(void 0!==o&&i.extend(n,{a:parseFloat(o)}),n):null}function c(t,s){var n=h(i(t).val(),!0),o=b(n),a=i(t).attr("data-opacity");return o?(void 0===a&&(a=1),s?"rgba("+o.r+", "+o.g+", "+o.b+", "+parseFloat(a)+")":"rgb("+o.r+", "+o.g+", "+o.b+")"):null}function l(i,t){return"uppercase"===t?i.toUpperCase():i.toLowerCase()}function h(i,t){return i=i.replace(/[^A-F0-9]/gi,""),3!==i.length&&6!==i.length?"":(3===i.length&&t&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),"#"+i)}function d(i,t,s){return t>i&&(i=t),i>s&&(i=s),i}function g(i){var t={},s=Math.round(i.h),n=Math.round(255*i.s/100),o=Math.round(255*i.b/100);if(0===n)t.r=t.g=t.b=o;else{var a=o,e=(255-n)*o/255,r=(a-e)*(s%60)/60;360===s&&(s=0),60>s?(t.r=a,t.b=e,t.g=e+r):120>s?(t.g=a,t.b=e,t.r=a-r):180>s?(t.g=a,t.r=e,t.b=e+r):240>s?(t.b=a,t.r=e,t.g=a-r):300>s?(t.b=a,t.g=e,t.r=e+r):360>s?(t.r=a,t.g=e,t.b=a-r):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function u(t){var s=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return i.each(s,function(i,t){1===t.length&&(s[i]="0"+t)}),"#"+s.join("")}function p(i){return u(g(i))}function m(i){var t=f(b(i));return 0===t.s&&(t.h=360),t}function f(i){var t={h:0,s:0,b:0},s=Math.min(i.r,i.g,i.b),n=Math.max(i.r,i.g,i.b),o=n-s;return t.b=n,t.s=0!==n?255*o/n:0,t.h=0!==t.s?i.r===n?(i.g-i.b)/o:i.g===n?2+(i.b-i.r)/o:4+(i.r-i.g)/o:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function b(i){return i=parseInt(i.indexOf("#")>-1?i.substring(1):i,16),{r:i>>16,g:(65280&i)>>8,b:255&i}}i.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},i.extend(i.fn,{minicolors:function(e,l){switch(e){case"destroy":return i(this).each(function(){s(i(this))}),i(this);case"hide":return o(),i(this);case"opacity":return void 0===l?i(this).attr("data-opacity"):(i(this).each(function(){a(i(this).attr("data-opacity",l))}),i(this));case"rgbObject":return r(i(this),"rgbaObject"===e);case"rgbString":case"rgbaString":return c(i(this),"rgbaString"===e);case"settings":return void 0===l?i(this).data("minicolors-settings"):(i(this).each(function(){var t=i(this).data("minicolors-settings")||{};s(i(this)),i(this).minicolors(i.extend(!0,t,l))}),i(this));case"show":return n(i(this).eq(0)),i(this);case"value":return void 0===l?i(this).val():(i(this).each(function(){a(i(this).val(l))}),i(this));default:return"create"!==e&&(l=e),i(this).each(function(){t(i(this),l)}),i(this)}}})}(jQuery);